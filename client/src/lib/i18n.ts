import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

const resources = {
  ru: {
    translation: {
      // Authentication
      "loginTitle": "Войдите в свой аккаунт",
      "emailLabel": "Email адрес",
      "passwordLabel": "Пароль",
      "login": "Войти",
      "noAccount": "Нет аккаунта?",
      "signUp": "Зарегистрироваться",
      "forgotPassword": "Забыли пароль?",
      "loginError": "Ошибка входа. Проверьте данные для входа.",
      "emailInvalid": "Введите корректный email адрес",
      "passwordMin": "Пароль должен содержать минимум 6 символов",
      "backToLogin": "Вернуться к входу",
      
      // Registration
      "createAccount": "Создайте аккаунт",
      "confirmPasswordLabel": "Подтвердите пароль",
      "acceptTerms": "Я принимаю условия использования",
      "registerButton": "Создать аккаунт",
      "alreadyHaveAccount": "Уже есть аккаунт?",
      "signIn": "Войти",
      "confirmPasswordMismatch": "Пароли не совпадают",
      "termsRequired": "Необходимо принять условия использования",
      "accountCreated": "Аккаунт успешно создан!",
      "registrationError": "Ошибка регистрации. Попробуйте ещё раз.",
      
      // Steps
      "step": "Шаг",
      "of": "из",
      "next": "Далее",
      "previous": "Назад",
      "complete": "Завершить регистрацию",
      
      // Restaurant setup
      "restaurantSetupTitle": "Настройка ресторана",
      "restaurantName": "Название ресторана",
      "city": "Город",
      "phone": "Телефон",
      "currency": "Валюта",
      "languageSelect": "Язык интерфейса",
      "aiTokenOptional": "API ключ ИИ (опционально)",
      "aiTokenHelper": "Для расширенных возможностей ИИ (OpenAI, OpenRouter)",
      "restaurantNameRequired": "Название ресторана обязательно",
      "cityRequired": "Город обязателен",
      
      // Navigation
      "dashboard": "Панель управления",
      "menu": "Меню",
      "aiGeneration": "ИИ",
      "settings": "Настройки",
      "design": "Дизайн",
      "qrCode": "QR-код",
      "logout": "Выход",
      
      // Menu management
      "menuManagement": "Управление меню",
      "noRestaurant": "Нет ресторана",
      "noRestaurantDesc": "Создайте ресторан для управления меню",
      "createRestaurant": "Создать ресторан",
      "addCategory": "Добавить категорию",
      "categoryName": "Название категории",
      "categoryNameRequired": "Название категории обязательно",
      "categoryIcon": "Иконка категории",
      "selectIcon": "Выберите иконку",
      "foodDrink": "Еда и напитки",
      "nature": "Природа",
      "objects": "Объекты",
      "symbols": "Символы",
      "createCategory": "Создать категорию",
      "categoryCreated": "Категория успешно создана!",
      "categoryCreateError": "Не удалось создать категорию",
      "editCategory": "Редактировать категорию",
      "save": "Сохранить",
      "deleteCategory": "Удалить категорию",
      "confirmDeleteCategory": "Вы уверены, что хотите удалить эту категорию?",
      "addDish": "Добавить блюдо",
      "editDish": "Редактировать блюдо",
      "dishName": "Название блюда",
      "price": "Цена",
      "ingredients": "Состав",
      "nutrition": "БЖУ",
      "tags": "Теги",
      "delete": "Удалить",
      "cancel": "Отмена",
      "create": "Создать",
      "language": "Язык",
      
      // Landing page translations
      "heroTitle": "Онлайн-меню для вашего ресторана — за 5 минут",
      "heroSubtitle": "Просто загрузите PDF, фото или введите текст — и мы создадим красивое меню с ИИ.",
      "createMenu": "Создать меню",
      "aiFeatureTitle": "ИИ в помощь",
      "aiFeatureDesc": "Генерирует фото блюд, БЖУ и состав по PDF или фото",
      "convenientTitle": "Удобно",
      "convenientDesc": "Современный дизайн, легко открывается с телефона",
      "multilingualTitle": "Многоязычность",
      "multilingualDesc": "Интерфейс поддерживает немецкий, английский и русский языки",
      "howItWorksTitle": "Как это работает?",
      "step1Title": "Зарегистрируйтесь и укажите данные ресторана",
      "step1Desc": "Название, адрес, валюта, контакт.",
      "step2Title": "Создайте меню вручную или загрузите PDF/фото",
      "step2Desc": "Наш ИИ сам достанет нужную информацию.",
      "step3Title": "Получите QR-ссылку для гостей",
      "step3Desc": "Показывайте меню на экране или на столах.",
      "menuExamplesTitle": "Как выглядит меню",
      "ctaTitle": "Готовы попробовать?",
      "ctaSubtitle": "Создайте своё первое меню бесплатно — это займёт 5 минут.",
      "startNow": "Начать сейчас",
      "links": "Ссылки",
      "support": "Поддержка",
      "privacyPolicy": "Конфиденциальность"
    }
  },
  en: {
    translation: {
      // Authentication
      "loginTitle": "Sign in to your account",
      "emailLabel": "Email address",
      "passwordLabel": "Password",
      "login": "Sign in",
      "noAccount": "Don't have an account?",
      "signUp": "Sign up",
      "forgotPassword": "Forgot your password?",
      "loginError": "Login failed. Please check your credentials.",
      "emailInvalid": "Please enter a valid email address",
      "passwordMin": "Password must be at least 6 characters",
      "backToLogin": "Back to sign in",
      
      // Registration
      "createAccount": "Create your account",
      "confirmPasswordLabel": "Confirm password",
      "acceptTerms": "I accept the terms and conditions",
      "registerButton": "Create account",
      "alreadyHaveAccount": "Already have an account?",
      "signIn": "Sign in",
      "confirmPasswordMismatch": "Passwords do not match",
      "termsRequired": "You must accept the terms and conditions",
      "accountCreated": "Account created successfully!",
      "registrationError": "Registration failed. Please try again.",
      
      // Steps
      "step": "Step",
      "of": "of",
      "next": "Next",
      "previous": "Previous",
      "complete": "Complete registration",
      
      // Restaurant setup
      "restaurantSetupTitle": "Set up your restaurant",
      "restaurantName": "Restaurant name",
      "city": "City",
      "phone": "Phone number",
      "currency": "Currency",
      "languageSelect": "Interface language",
      "aiTokenOptional": "AI API key (optional)",
      "aiTokenHelper": "For enhanced AI features (OpenAI, OpenRouter)",
      "restaurantNameRequired": "Restaurant name is required",
      "cityRequired": "City is required",
      
      // Navigation
      "dashboard": "Dashboard",
      "menu": "Menu",
      "aiGeneration": "AI",
      "settings": "Settings",
      "design": "Design",
      "qrCode": "QR Code",
      "logout": "Sign out",
      
      // Menu management
      "menuManagement": "Menu Management",
      "noRestaurant": "No restaurant",
      "noRestaurantDesc": "Create a restaurant to start managing your menu",
      "createRestaurant": "Create restaurant",
      "addCategory": "Add category",
      "categoryName": "Category name",
      "categoryNameRequired": "Category name is required",
      "categoryIcon": "Category icon",
      "selectIcon": "Select an icon",
      "foodDrink": "Food & Drink",
      "nature": "Nature",
      "objects": "Objects",
      "symbols": "Symbols",
      "createCategory": "Create category",
      "categoryCreated": "Category created successfully!",
      "categoryCreateError": "Failed to create category",
      "editCategory": "Edit category",
      "save": "Save",
      "deleteCategory": "Delete category",
      "confirmDeleteCategory": "Are you sure you want to delete this category?",
      "addDish": "Add dish",
      "editDish": "Edit dish",
      "dishName": "Dish name",
      "price": "Price",
      "ingredients": "Ingredients",
      "nutrition": "Nutrition",
      "tags": "Tags",
      "delete": "Delete",
      "cancel": "Cancel",
      "create": "Create",
      "language": "Language",
      
      // Landing page translations
      "heroTitle": "Online menu for your restaurant — in 5 minutes",
      "heroSubtitle": "Simply upload a PDF, photo, or enter text — and we'll create a beautiful menu with AI.",
      "createMenu": "Create menu",
      "aiFeatureTitle": "AI-powered",
      "aiFeatureDesc": "Generates dish photos, nutrition facts, and ingredients from PDF or photos",
      "convenientTitle": "Convenient",
      "convenientDesc": "Modern design, easily accessible from mobile phones",
      "multilingualTitle": "Multilingual",
      "multilingualDesc": "Interface supports German, English, and Russian languages",
      "howItWorksTitle": "How does it work?",
      "step1Title": "Register and enter restaurant details",
      "step1Desc": "Name, address, currency, contact information.",
      "step2Title": "Create menu manually or upload PDF/photo",
      "step2Desc": "Our AI will extract the necessary information.",
      "step3Title": "Get QR link for guests",
      "step3Desc": "Display the menu on screen or on tables.",
      "menuExamplesTitle": "What the menu looks like",
      "ctaTitle": "Ready to try?",
      "ctaSubtitle": "Create your first menu for free — it takes 5 minutes.",
      "startNow": "Start now",
      "links": "Links",
      "support": "Support",
      "privacyPolicy": "Privacy"
    }
  },
  de: {
    translation: {
      // Authentication
      "loginTitle": "Bei Ihrem Konto anmelden",
      "emailLabel": "E-Mail-Adresse",
      "passwordLabel": "Passwort",
      "login": "Anmelden",
      "noAccount": "Noch kein Konto?",
      "signUp": "Registrieren",
      "forgotPassword": "Passwort vergessen?",
      "loginError": "Anmeldung fehlgeschlagen. Bitte überprüfen Sie Ihre Zugangsdaten.",
      "emailInvalid": "Bitte geben Sie eine gültige E-Mail-Adresse ein",
      "passwordMin": "Passwort muss mindestens 6 Zeichen haben",
      "backToLogin": "Zurück zur Anmeldung",
      
      // Registration
      "createAccount": "Konto erstellen",
      "confirmPasswordLabel": "Passwort bestätigen",
      "acceptTerms": "Ich akzeptiere die Nutzungsbedingungen",
      "registerButton": "Konto erstellen",
      "alreadyHaveAccount": "Bereits ein Konto?",
      "signIn": "Anmelden",
      "confirmPasswordMismatch": "Passwörter stimmen nicht überein",
      "termsRequired": "Sie müssen die Nutzungsbedingungen akzeptieren",
      "accountCreated": "Konto erfolgreich erstellt!",
      "registrationError": "Registrierung fehlgeschlagen. Bitte versuchen Sie es erneut.",
      
      // Steps
      "step": "Schritt",
      "of": "von",
      "next": "Weiter",
      "previous": "Zurück",
      "complete": "Registrierung abschließen",
      
      // Restaurant setup
      "restaurantSetupTitle": "Restaurant einrichten",
      "restaurantName": "Restaurantname",
      "city": "Stadt",
      "phone": "Telefonnummer",
      "currency": "Währung",
      "languageSelect": "Oberflächensprache",
      "aiTokenOptional": "AI API-Schlüssel (optional)",
      "aiTokenHelper": "Für erweiterte AI-Funktionen (OpenAI, OpenRouter)",
      "restaurantNameRequired": "Restaurantname ist erforderlich",
      "cityRequired": "Stadt ist erforderlich",
      
      // Navigation
      "dashboard": "Dashboard",
      "menu": "Menü",
      "aiGeneration": "KI",
      "settings": "Einstellungen",
      "design": "Design",
      "qrCode": "QR-Code",
      "logout": "Abmelden",
      
      // Menu management
      "menuManagement": "Menüverwaltung",
      "noRestaurant": "Kein Restaurant",
      "noRestaurantDesc": "Erstellen Sie ein Restaurant, um Ihr Menü zu verwalten",
      "createRestaurant": "Restaurant erstellen",
      "addCategory": "Kategorie hinzufügen",
      "categoryName": "Kategoriename",
      "categoryNameRequired": "Kategoriename ist erforderlich",
      "categoryIcon": "Kategorie-Symbol",
      "selectIcon": "Symbol auswählen",
      "foodDrink": "Essen & Trinken",
      "nature": "Natur",
      "objects": "Objekte",
      "symbols": "Symbole",
      "createCategory": "Kategorie erstellen",
      "categoryCreated": "Kategorie erfolgreich erstellt!",
      "categoryCreateError": "Kategorie konnte nicht erstellt werden",
      "editCategory": "Kategorie bearbeiten",
      "save": "Speichern",
      "deleteCategory": "Kategorie löschen",
      "confirmDeleteCategory": "Sind Sie sicher, dass Sie diese Kategorie löschen möchten?",
      "addDish": "Gericht hinzufügen",
      "editDish": "Gericht bearbeiten",
      "dishName": "Gerichtname",
      "price": "Preis",
      "ingredients": "Zutaten",
      "nutrition": "Nährwerte",
      "tags": "Tags",
      "delete": "Löschen",
      "cancel": "Abbrechen",
      "create": "Erstellen",
      "language": "Sprache",
      
      // Landing page translations
      "heroTitle": "Online-Menü für Ihr Restaurant — in 5 Minuten",
      "heroSubtitle": "Laden Sie einfach ein PDF oder Foto hoch oder geben Sie Text ein — und wir erstellen ein schönes Menü mit KI.",
      "createMenu": "Menü erstellen",
      "aiFeatureTitle": "KI-gestützt",
      "aiFeatureDesc": "Generiert Gerichtfotos, Nährwerte und Zutaten aus PDF oder Fotos",
      "convenientTitle": "Praktisch",
      "convenientDesc": "Modernes Design, einfach von Mobilgeräten zugänglich",
      "multilingualTitle": "Mehrsprachig",
      "multilingualDesc": "Benutzeroberfläche unterstützt Deutsch, Englisch und Russisch",
      "howItWorksTitle": "Wie funktioniert es?",
      "step1Title": "Registrieren und Restaurantdaten eingeben",
      "step1Desc": "Name, Adresse, Währung, Kontaktdaten.",
      "step2Title": "Menü manuell erstellen oder PDF/Foto hochladen",
      "step2Desc": "Unsere KI extrahiert die notwendigen Informationen.",
      "step3Title": "QR-Link für Gäste erhalten",
      "step3Desc": "Menü auf Bildschirm oder Tischen anzeigen.",
      "menuExamplesTitle": "Wie das Menü aussieht",
      "ctaTitle": "Bereit zum Ausprobieren?",
      "ctaSubtitle": "Erstellen Sie Ihr erstes Menü kostenlos — dauert 5 Minuten.",
      "startNow": "Jetzt starten",
      "links": "Links",
      "support": "Support",
      "privacyPolicy": "Datenschutz"
    }
  }
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'ru',
    debug: false,
    
    interpolation: {
      escapeValue: false, // React already does escaping
    },
    
    detection: {
      order: ['localStorage', 'navigator', 'htmlTag'],
      caches: ['localStorage'],
    },
  });

export default i18n;